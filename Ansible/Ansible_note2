1. ansible命令执行过程
    1. 加载自己的配置文件 默认/etc/ansible/ansible.cfg
    2. 加载自己对应的模块文件，如command
    3. 通过ansible将模块或命令生成对应的临时py文件，
     并将该文件传输至远程服务器的对应执行用户$HOME/.ansible/tmp/ansible-tmp-数字/XXX.PY文件
    4. 给文件+x执行
    5. 执行并返回结果
    6. 删除临时py文件，sleep 0退出

    执行状态：
      绿色：执行成功并且不需要做改变的操作
      黄色：执行成功并且对目标主机做变更
      红色：执行失败

    ansible all -m ping -vvv 可以查看到复制的临时文件，使用了Put命令，chmod加权限

2. Command以及Shell模块
    command: 执行命令，此命令不支持 $VARNAME < > | ; & 等 变量，管道，重定向有问题
        chdir:   进入到被管理主机目录
        creates: 如果有一个目录是存在的,步骤将不会运行Command命令
    shell:
        ansible all -m shell -a 'echo $HOSTNAME'
        ansible all -m shell -a 'useradd dai'
        ansible all -a 'echo "jsx#609!" | passwd dai'

    注意：
        1. 配置默认使用shell模块：
            vim /etc/ansible/ansible.cfg
            module_name = shell
        2. 复杂命令，即使使用shell也可能会失败，建议使用script模块运行脚本

    实例：
    1. 使用默认的command模块创建文件夹
        ansible all -a "mkdir /data"
        ansible all -a "ls -dl /data"
    2. 进入默认模块执行操作
        ansible all -a "chdir=/data mkdir ./data1"